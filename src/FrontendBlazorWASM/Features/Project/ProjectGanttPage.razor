@page "/projects/gantt"
@layout FullHeightLayout
@inject SelectedProjectsState State
@inject IProjectService ProjectService
@inject IResourceService ResourceService


<GanttView ItemsParam="Projects"  LinksParam="null"/>

@code {
    List<Project> Projects = new();

    protected override async Task OnInitializedAsync()
    {
        Projects = await ProjectService.GetProjectsAsync(State.ProjectIds);
        if(State.Expanded)
        {
            foreach(var project in Projects)
            {
                project.IsExpanded = true;
            }
        }
    }
}

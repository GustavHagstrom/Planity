@inject IStringLocalizer<ResourceForm> localizer

<MudGrid Spacing="2">
    <MudItem xs="12" sm="4">
        <PlanityTextField T="string" @bind-Value="resource.Name" Label="@localizer["Namn"]" For="() => resource.Name" Required="true" Style="max-width: 300px;" />
    </MudItem>

    <MudItem xs="12" sm="4">
        <PlanityTextField T="int" @bind-Value="@resource.Workers" Label="@localizer["Antal arbetare"]" Required="true" Style="max-width: 300px;" />
    </MudItem>
    <MudItem xs="12" sm="4">
        <PlanityTextField T="int" Value="@Convert.ToInt32(resource.Efficiency * 100)" ValueChanged="SetEfficiency" Label="@localizer["Effektivitet"]" Required="true" Adornment="Adornment.Start" AdornmentText="%" Style="max-width: 300px;" />
    </MudItem>
</MudGrid>


@code {
    [Parameter] public Resource? ResourceModel { get; set; }

    private Resource resource = new();

    protected override void OnParametersSet()
    {
        if (ResourceModel != null)
        {
            resource = new Resource
            {
                Id = ResourceModel.Id,
                Name = ResourceModel.Name,
                OrganizationId = ResourceModel.OrganizationId,
            };
        }
    }

    void SetEfficiency(int value)
    {
        resource.Efficiency = value / 100.0;
    }

    
}
